{{!-- Sub-Section Navigation --}}
<nav class="status-sheet-tabs sheet-tabs tabs" data-group="status">
  {{!-- Default tab is specified in actor-sheet.mjs --}}
  <a class="item" data-tab="health">{{localize "TC.Labels.Health"}}</a>
  <a class="item" data-tab="status">{{localize "TC.Labels.Statuses"}}</a>
  <a class="item" data-tab="effects">{{localize "TC.Labels.Effects"}}</a>
  <a class="item" data-tab="options">{{localize "TC.Labels.Options"}}</a>
</nav>

{{!-- Status Section Body--}}
<div class="status-sheet-body">

  {{!-- Health + Injury Section --}}
  <div class="tab health" data-group="status" data-tab="health">
    {{!-- Health --}}
    <section class="status-section">
      <div class="health-section">
        <div class="flex-group-center">
            <h3 class="style-header">{{localize "TC.Labels.Health"}}</h3>
        </div>
        {{!-- Hard Armor --}}
        <div class="health-type">
          <div class="health-label">{{localize "TC.Labels.Hard.long"}}</div>
          <div class="health-row">
            <div class="health-input">{{system.health.hard.value}}</div>
            <span class="math-label"> / </span>
            <div class="health-input">{{system.health.hard.max}}</div>
          </div>
          <div class="health-row"><span class="mod-label">No {{localize "TC.Labels.Mod"}}</span></div>
        </div>
        {{!-- Bruised --}}
        <div class="health-type">
          <div class="health-label">{{localize "TC.Labels.Bruised"}}</div>
          <div class="health-row">
            <div class="health-input">{{system.health.bruised.value}}</div>
            <span class="math-label"> / </span>
            <div class="health-input">{{system.health.bruised.max}}</div>
          </div>
          <div class="health-row"><span class="mod-label">{{localize "TC.Labels.Mod"}}: +{{system.health.bruised.mod}}</span></div>
        </div>
        {{!-- Injured --}}
        <div class="health-type">
          <div class="health-label">{{localize "TC.Labels.Injured"}}</div>
          <div class="health-row">
            <div class="health-input">{{system.health.injured.value}}</div>
            <span class="math-label"> / </span>
            <div class="health-input">{{system.health.injured.max}}</div>
          </div>
          <div class="health-row"><span class="mod-label">{{localize "TC.Labels.Mod"}}: +{{system.health.injured.mod}}</span></div>
        </div>
        {{!-- Maimed --}}
        <div class="health-type">
          <div class="health-label">{{localize "TC.Labels.Maimed"}}</div>
          <div class="health-row">
            <div class="health-input">{{system.health.maimed.value}}</div>
            <span class="math-label"> / </span>
            <div class="health-input">{{system.health.maimed.max}}</div>
          </div>
          <div class="health-row"><span class="mod-label">{{localize "TC.Labels.Mod"}}: +{{system.health.maimed.mod}}</span></div>
        </div>
        <div class="health-type">
          <div class="health-label"><label for="system.health.takenout.isfilled">Taken Out</label></div>
          <div class="health-row">
            <input class="small-check" id="system.health.takenout.isfilled" type="checkbox" name="system.health.takenout.isfilled" {{checked system.health.takenout.isfilled}}/>
          </div>
        </div>
      </div>
    
      <div class="injuries">
        <ol class='items-list'>
          {{#each injury as |injury type|}}
            <li class='item flexrow items-header'>
              <div class='item-name'>{{localize (lookup @root.config.injuries type)}}</div>
              <div class="item-first">{{localize "TC.Labels.Firstaidshort"}}</div>
              <div class='item-controls'>
                <a
                  class='item-control item-create'
                  title='{{localize "DOCUMENT.Create" type='Injury'}}'
                  data-type='injury'
                  data-wound='{{type}}'
                >
                  <i class='fas fa-plus'></i>
                  {{localize 'DOCUMENT.New' type=''}}
                </a>
              </div>
            </li>
            {{#each injury as |item id|}}
              <li class='item flexrow' data-item-id='{{item._id}}'>
                <div class='item-name'>
                  <div class='item-image'>
                    <a class='rollable' data-roll-type='item'>
                      <img
                        src='{{item.img}}'
                        title='{{item.name}}'
                        width='24'
                        height='24'
                      />
                    </a>
                  </div>
                  <h4>{{item.name}}</h4>
                </div>
                <div class="item-first">{{#if item.system.firstaid}}Yes{{else}}No{{/if}}</div>
                <div class='item-controls'>
                  <a
                    class='item-control item-edit'
                    title='{{localize "DOCUMENT.Update" type='Item'}}'
                  >
                    <i class='fas fa-edit'></i>
                  </a>
                  <a
                    class='item-control item-delete'
                    title='{{localize "DOCUMENT.Delete" type='Item'}}'
                  >
                    <i class='fas fa-trash'></i>
                  </a>
                </div>
              </li>
            {{/each}}
          {{/each}}
        </ol>
      </div>
    </section>
  </div>

  {{!-- Status Section --}}
  <div class="tab status" data-group="status" data-tab="status">
    <ol class='items-list'>
      <li class='item flexrow items-header'>
        <div class='item-name'>{{localize "TYPES.Item.status"}}</div>
        <div class='item-formula'>{{localize 'Roll Formula'}}</div>
        <div class='item-controls'>
          <a
            class='item-control item-create'
            title='{{localize "DOCUMENT.Create" type='Status'}}'
            data-type='status'
          >
            <i class='fas fa-plus'></i>
            {{localize 'DOCUMENT.New' type=''}}
          </a>
        </div>
      </li>
      {{#each status as |item id|}}
        <li class='item flexrow' data-item-id='{{item._id}}'>
          <div class='item-name'>
            <div class='item-image'>
              <a class='rollable' data-roll-type='item'>
                <img
                  src='{{item.img}}'
                  title='{{item.name}}'
                  width='24'
                  height='24'
                />
              </a>
            </div>
            <h4>{{item.name}}</h4>
          </div>
          <div class='item-formula item-prop'>{{item.system.formula}}</div>
          <div class='item-controls'>
            <a
              class='item-control item-edit'
              title='{{localize "DOCUMENT.Update" type='Item'}}'
            >
              <i class='fas fa-edit'></i>
            </a>
            <a
              class='item-control item-delete'
              title='{{localize "DOCUMENT.Delete" type='Item'}}'
            >
              <i class='fas fa-trash'></i>
            </a>
          </div>
        </li>
      {{/each}}
    </ol>
  </div>

  <div class="tab effects" data-group="status" data-tab="effects">
    <ol class="items-list effects-list">
      {{#each effects as |section sid|}}
        <li class="effect-header items-header flexrow" data-effect-type="{{section.type}}" data-parent-id="{{@root.actor.id}}" >
          <h3 class="item-name effect-name flexrow">{{localize section.label}}</h3>
          <div class="effect-source">{{localize "TC.Effect.Source"}}</div>
          <div class="effect-duration">{{localize "TC.Effect.Duration"}}</div>
          <div class="item-controls effect-controls flexrow">
            <a class="effect-control" data-action="create" title="{{localize 'DOCUMENT.Create' type="Effect"}}">
              <i class="fas fa-plus"></i> {{localize "DOCUMENT.New" type=""}}
            </a>
          </div>
        </li>

        <ol class="item-list">
        {{#each section.effects as |effect|}}
          <li class="item effect flexrow" data-effect-id="{{effect.id}}" data-parent-id="{{effect.parent.id}}">
            <div class="item-name effect-name flexrow">
              <img class="item-image" src="{{effect.icon}}"/>
              <h4>{{effect.name}}</h4>
            </div>
            <div class="effect-source">{{effect.sourceName}}</div>
            <div class="effect-duration">{{effect.duration.label}}</div>
            <div class="item-controls effect-controls flexrow">
              <a class="effect-control" data-action="toggle" title="{{localize 'TC.Effect.Toggle'}}">
                <i class="fas {{#if effect.disabled}}fa-check{{else}}fa-times{{/if}}"></i>
              </a>
              <a class="effect-control" data-action="edit" title="{{localize 'DOCUMENT.Update' type="Effect"}}">
                <i class="fas fa-edit"></i>
              </a>
              <a class="effect-control" data-action="delete" title="{{localize 'DOCUMENT.Delete' type="Effect"}}">
                <i class="fas fa-trash"></i>
              </a>
            </div>
          </li>
        {{/each}}
        </ol>
      {{/each}}
    </ol>
  </div>

  {{!-- Health Configuration/ Options --}}
  <div class="tab options" data-group="status" data-tab="options">
    <h3 class="style-header flex-group-center">Health Configuration</h3>
    <div class="stat-detail-row">
      <div class="resource-label option-wound">Wound Level</div>
      <div class="resource-label option-base">Base</div>
      <div class="resource-label option-stamina">Stamina</div>
      <div class="resource-label option-add">Additional</div>
      <div class="resource-label option-mod">Modifier</div>
    </div>
      <div class="stat-detail-row">
      <div class="option-wound">Hard Armor</div>
      <div class="option-base">0</div>
      <div class="option-stamina">0</div>
      <div class="option-add"><input class="text-2digit" type="text" name="system.health.hard.max" value="{{system.health.hard.max}}" data-dtype="Number"/></div>
      <div class="option-mod">0</div>
    </div>
    <div class="stat-detail-row">
      <div class="option-wound">Bruised</div>
      <div class="option-base">{{system.health.bruised.base}}</div>
      <div class="option-stamina">{{system.health.bruised.stamina}}</div>
      <div class="option-add"><input class="text-2digit" type="text" name="system.health.bruised.added" value="{{system.health.bruised.added}}" data-dtype="Number"/></div>
      <div class="option-mod">+ <input class="text-2digit" type="text" name="system.health.bruised.mod" value="{{system.health.bruised.mod}}" data-dtype="Number"/></div>
    </div>
    <div class="stat-detail-row">
      <div class="option-wound">Injured</div>
      <div class="option-base">{{system.health.injured.base}}</div>
      <div class="option-stamina">{{system.health.injured.stamina}}</div>
      <div class="option-add"><input class="text-2digit" type="text" name="system.health.injured.added" value="{{system.health.injured.added}}" data-dtype="Number"/></div>
      <div class="option-mod">+ <input class="text-2digit" type="text" name="system.health.injured.mod" value="{{system.health.injured.mod}}" data-dtype="Number"/></div>
    </div>
    <div class="stat-detail-row">
      <div class="option-wound">Maimed</div>
      <div class="option-base">{{system.health.maimed.base}}</div>
      <div class="option-stamina">0</div>
      <div class="option-add"><input class="text-2digit" type="text" name="system.health.maimed.added" value="{{system.health.maimed.added}}" data-dtype="Number"/></div>
      <div class="option-mod">+ <input class="text-2digit" type="text" name="system.health.maimed.mod" value="{{system.health.maimed.mod}}" data-dtype="Number"/></div>
    </div>
  </div>
</div>